{% extends "layouts/base.html" %}

{% block title %}
    ANF115 | Comparacion de ratios por valor ingresado
{% endblock %}

{% block content %}
{% if error is None %}
{% if anio %}
<h4 class="text-center mt-4"></h4>

    <div class="text-center fw-400 mb-3">
        Comparacion de ratios por valor ingresado
    </div>   
    
    <div class="text-center fw-400 mb-3">
        Año: {{anio}}
    </div> 
<div class="d-flex justify-content-center">
    <div class="table-responsive">
        <table class="table table-borderless table-hover">
            <tr>
                <td style="background-color: green;"></td><td>Arriba del valor ingresado</td>
            </tr>
            <tr>
                <td style="background-color: red;"></td><td>Abajo del valor ingresado</td>
            </tr>
        </table>
    </div>
</div>


<div class="table-responsive">
    <table class="table table-borderless table-hover">
        <thead>
            <th>Ratio</th>
            <th>{{miempresa}}</th>
            <th>{{empresa2}}</th>
            <th>Valor ingresado</th>
        </thead>

        <tbody>
            <tr>
            {% for elemento in listaAimprimir %}
            <td>{{elemento.nombre}}</td>
            {% if elemento.ratio1esMayor %}
            <td style="background-color: green;">{{ elemento.ratio1|floatformat:2 }}</td>
            {% else %}
            <td style="background-color: red;">{{ elemento.ratio1|floatformat:2 }}</td>
            {% endif %}
            {% if elemento.ratio2esMayor %}
            <td style="background-color: green;">{{ elemento.ratio2|floatformat:2 }}</td>
            {% else %}
            <td style="background-color: red;">{{ elemento.ratio2|floatformat:2 }}</td>
            {% endif %}
            <td>{{ elemento.valorDeComparacion|floatformat:2 }}</td>
            </tr>
            
            {% endfor %}
        </tbody>
    </table>
</div>
{% else %}  
<div class="d-flex justify-content-center">
    <p><strong>Por favor, seleccione un año en el formulario derecho</strong></p>
</div>
{% endif %}

{% else %}

<div class="d-flex justify-content-center">
    <div class="alert alert-danger" role="alert">
        {{error}}
      </div>
</div>

{% endif %}

{% endblock %}

{% block filtros%}
{% endblock %}